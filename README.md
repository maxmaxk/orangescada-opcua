# OrangeScada OPCUA driver

## Установка

Для работы использовать версию [Node.js](https://nodejs.org/) v16+

Для установки использовать команды

```sh
git clone https://github.com/maxmaxk/orangescada-opcua
cd orangescada-opcua
npm i
npm start
```
## Подключение к OrangeScada

Если использовать стандартный конфиг драйвера, то со стороны OrangeScada должен быть настроена работа с универсальным драйвером:
- порт: 8892
- ssl: выключено
- идентификатор драйвера: 1234
- пароль: password

## Тестирование

В тестовой конфигурации сервера прописано подключение к двум OPC-серверам.
Для тестования первого (OPCUA Test) необходимо инсталлировать [симулятор](https://downloads.prosysopc.com/opc-ua-simulation-server-downloads.php) от компании Prosys
Для второго сервера (OPCUA2 Test) я собирал [Docker-образ](https://hub.docker.com/r/open62541/open62541), но там довольно геморно, наверное для тестов тебе будет одного сервера достаточно


## Ограничение

На настоящий момент не доделан обзор ОРС-тегов: он будет запускаться при переводе параметра устройства `Browse Trigger` в состояние `Start browse opc tags`

## Запуск драйвера как службы (для Windows)

Необходимо в папке драйвера выполнить команду

```sh
node toServiceDriver
```

При удачном исполнении в списке служб появится `OrangeScadaOPCUADriver`, управляя которой можно запускать/останавливать универсальный драйвер

## License

MIT

